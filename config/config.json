{
    "API_KEYS": {
        "b2": {
            "endpoint": "https://s3.us-east-005.backblazeb2.com",
            "bucket_name": "boyarinnbotbucket"
        },
        "midjourney": {
            "endpoint": "https://api.piapi.ai/api/v1/task",
            "task_endpoint": "https://api.piapi.ai/mj/v2/fetch"
        },
        "openai": {
            "model": "gpt-4o"
        },
        "runwayml": {
            "endpoint": null,
            "model_name": "gen4_turbo"
        }
    },
    "OPENAI_SETTINGS": {
        "model": "gpt-4o",
        "max_tokens_text": 750,
        "temperature": 0.7,
        "max_tokens_script": 1000,
        "temperature_script": 0.7
    },
    "FILE_PATHS": {
        "meta_folder": "data/meta/",
        "scripts_folder": "scripts",
        "config_public": "config/config_public.json",
        "config_gen": "config/config_gen.json",
        "config_midjourney": "config/config_midjourney.json",
        "content_output_path": "generated_content.json",
        "final_content_path": "final_content.json",
        "feedback_file": "data/feedback.json",
        "before_critique_path": "before_critique.json",
        "after_critique_path": "after_critique.json",
        "config_public_local": "config_public.json",
        "folder_444": "444/",
        "folder_555": "555/",
        "folder_666": "666/",
        "archive_folder": "archive/",
        "log_folder": "logs",
        "output_image_format": "png",
        "creative_config": "config/creative_config.json"
    },
    "PROMPTS": {
        "user_prompt_combined": "Write a 10-second video scene for '{topic}'. First, determine the mood (e.g., tragic, joyful, mysterious). Then, choose one creative approach from 'creative_prompts' in config. Create a script (up to 500 characters) matching the mood, including: Action: An object tied to the topic moves or changes uniquely. Camera: Use motion like 'zoom', 'spin', 'tilt', or 'shift'. Rhythm: Split 10s creatively (e.g., 3-5-2). Apply restriction: '{restriction}'. Also create a 'First Frame Description' (up to 500 characters) as a visual metaphor or key image for the script, focusing on composition, colors, lighting, and camera angle to convey the mood, **ensuring the final output is structured as a valid JSON object**. The total combined length of script and description should ideally be under 1000 characters. Ensure the output is in English and Runway-ready. \n\n**IMPORTANT: Your entire response must be ONLY a single JSON object containing two keys: 'script' (string value with the generated script) and 'first_frame_description' (string value with the generated description). Do not include any text before or after the JSON object.**",
        "second_request_prompt": "Take this script: '{script_text}'. Add an unexpected twist to enhance its creativity, keeping it under 500 characters and matching the mood of '{topic}'. English, Runway-ready."
    },
    "MULTI_STEP_PROMPTS": {
        "step1_core": "# ЗАДАЧА: Определение Эмоционального Ядра Видео\n## 1. ТВОЯ РОЛЬ:\nТы - AI Анализатор Текста. Твоя задача - проанализировать ИСХОДНЫЙ ТЕКСТ и выбрать ОДИН элемент (Настроение или Эмоциональную Дугу), который наилучшим образом определяет эмоциональную суть для 10-секундного видео.\n## 2. ИСХОДНЫЙ ТЕКСТ:\n'''\n{input_text}\n'''\n## 3. ДОСТУПНЫЕ ЭЛЕМЕНТЫ ДЛЯ ВЫБОРА:\n### Доступные Настроения (`moods`):\n{moods_list_str}\n*Примечание: Веса (если указаны) служат ориентиром (3 > 2 > 1).*\n### Доступные Эмоциональные Дуги (`emotional_arcs`):\n{arcs_list_str}\n## 4. ИНСТРУКЦИИ ПО ВЫБОРУ:\n1.  Прочти ИСХОДНЫЙ ТЕКСТ.\n2.  Реши: лучше использовать статичное **Настроение** или динамическую **Эмоциональную Дугу**?\n3.  Выбери **ОДИН** наиболее подходящий элемент из соответствующего списка выше.\n4.  **Учитывай Интенсивность:** Если текст допускает несколько интерпретаций, при прочих равных старайся выбирать более **энергичное, сильное или динамичное** настроение/дугу, чтобы видео получилось более выразительным (например, \"Напряженное\" может быть выразительнее \"Задумчивого\", если оба подходят).\n5.  Сформулируй краткое (1 предложение) обоснование твоего выбора.\n## 5. ФОРМАТ ВЫВОДА: **КРИТИЧЕСКИ ВАЖНО!**\nТвой ответ ДОЛЖЕН быть **ТОЛЬКО валидным JSON объектом** и ничем иным. Не добавляй никакого текста до или после JSON объекта.\nСтруктура JSON должна быть следующей:\n* `chosen_type`: строка, значение \"mood\" или \"arc\".\n* `chosen_value`: строка, точное название выбранного элемента из списка.\n* `justification`: строка, краткое обоснование.\n**Пример требуемого формата:** `{{{{ \"chosen_type\": \"mood\", \"chosen_value\": \"Напряженное\", \"justification\": \"Текст описывает конфликт, что требует напряженной атмосферы.\" }}}}`\nJSON:\n",
        "step2_driver": "# ЗАДАЧА: Выбор Основного Креативного Драйвера Видео\n## 1. КОНТЕКСТ:\n### 1.1. ИСХОДНЫЙ ТЕКСТ:\n'''\n{input_text}\n'''\n### 1.2. ВЫБРАННОЕ ЭМОЦИОНАЛЬНОЕ ЯДРО (из Шага 1):\n{chosen_emotional_core_json}\n## 2. ТВОЯ РОЛЬ:\nТы - ИИ Креативный Директор. Проанализировав текст и выбранное эмоциональное ядро, твоя задача - определить **ОДИН главный креативный инструмент (Драйвер)**, который наилучшим образом поможет раскрыть идею, эмоцию и **интенсивность** в 10-секундном видео.\n## 3. ДОСТУПНЫЕ КАТЕГОРИИ И ИНСТРУМЕНТЫ:\n### Категория 1: Креативные Подходы (`creative_prompts`)\n*Инструкция: Выбери один из этих подходов, если считаешь, что для видео важна особая нарративная или концептуальная структура.*\n{prompts_list_str}\n### Категория 2: Типы Перспектив (`perspective_types`)\n*Инструкция: Выбери один из этих ракурсов, если считаешь, что ключ к идее лежит в уникальной точке зрения.*\n{perspectives_list_str}\n### Категория 3: Типы Визуальных Метафор (`visual_metaphor_types`)\n*Инструкция: Выбери один из этих типов метафор, если считаешь, что для первого кадра и общей концепции важен сильный символический образ.*\n{metaphors_list_str}\n## 4. ИНСТРУКЦИИ ПО ВЫБОРУ:\n1.  Оцени, какой из трех типов инструментов (Креативный Подход, Перспектива или Визуальная Метафора) будет **наиболее эффективным** для передачи сути текста и выбранного эмоционального ядра.\n2.  Выбери **ТОЛЬКО ОДИН** конкретный инструмент из списка соответствующей категории.\n3.  **Учитывай Интенсивность:** Выбирай драйвер, который поможет не только передать смысл, но и создать нужную **динамику или эмоциональный накал**, соответствующий выбранному ядру.\n4.  При выборе Креативного Подхода (`creative_prompts`) старайся учитывать вес (3 > 2), но приоритет отдавай соответствию задаче.\n5.  Кратко (1 предложение) обоснуй свой выбор категории и конкретного инструмента.\n## 5. ФОРМАТ ВЫВОДА:\nПредоставь результат СТРОГО в формате JSON со следующими ключами: `chosen_driver_type` (значение \"prompt\", \"perspective\" или \"metaphor\"), `chosen_driver_value` (точное название выбранного элемента) и `justification` (обоснование).\n(Пример структуры JSON: `{{{{ \"chosen_driver_type\": \"perspective\", \"chosen_driver_value\": \"Макро / Экстремальный крупный план\", \"justification\": \"Фокус на детали усилит напряженное настроение.\" }}}}`)\nJSON:\n",
        "step3_aesthetic": "# ЗАДАЧА: Выбор Эстетического Фильтра (Стиля) и его Ключевых Слов - Опционально\n## 1. КОНТЕКСТ:\n### 1.1. ИСХОДНЫЙ ТЕКСТ:\n'''\n{input_text}\n'''\n### 1.2. ВЫБРАННОЕ ЭМОЦИОНАЛЬНОЕ ЯДРО (из Шага 1):\n{chosen_emotional_core_json}\n### 1.3. ВЫБРАННЫЙ ОСНОВНОЙ ДРАЙВЕР (из Шага 2):\n{chosen_driver_json}\n## 2. ТВОЯ РОЛЬ:\nТы - ИИ Креативный Директор и Аналитик Стилей. Оценив контекст, реши, **нужно ли добавлять специфический эстетический стиль** (режиссера или художника). Если да, выбери стиль и **сгенерируй ключевые слова**, описывающие его черты.\n## 3. ДОСТУПНЫЕ СТИЛИ ДЛЯ ВЫБОРА (ЕСЛИ НУЖНО):\n### Список Стилей Режиссеров (`director_styles`):\n{directors_list_str}\n### Список Стилей Художников (`artist_styles`):\n{artists_list_str}\n## 4. ИНСТРУКЦИИ ПО ВЫБОРУ И ГЕНЕРАЦИИ:\n1.  Проанализируй контекст (текст, эмоц. ядро, драйвер).\n2.  **Реши:** Усилит ли применение узнаваемого стиля общую идею и воздействие видео, или лучше оставить концепцию \"чистой\"?\n3.  **Учитывай Интенсивность:** При выборе стиля подумай, сможет ли он передать не только формальные черты, но и желаемую **энергию, динамику или страсть**, если это соответствует брифу.\n4.  **Если стиль НЕ нужен:** Укажи `false` для `style_needed` и `null` для остальных ключей (`chosen_style_type`, `chosen_style_value`, `style_keywords`, `justification`).\n5.  **Если стиль НУЖЕН:**\n    а. Укажи `true` для `style_needed`.\n    б. Определи, какой тип стиля (Режиссер или Художник) будет более уместен (`chosen_style_type`).\n    в. Выбери **ОДИН** наиболее подходящий стиль из соответствующего списка выше (`chosen_style_value`).\n    г. **Сгенерируй 2-4 ключевых слова или короткие фразы (на английском!) (`style_keywords`)**, описывающие **характерные визуальные или атмосферные черты** выбранного стиля (например, для Тарантино: `[\"stylized violence\", \"non-linear narrative\", \"sharp dialogue visuals\"]`, для Караваджо: `[\"dramatic chiaroscuro\", \"intense realism\", \"theatrical lighting\"]`). **Избегай прямого упоминания имени в ключевых словах.**\n    д. Кратко (1 предложение) обоснуй свой выбор стиля и почему он нужен (`justification`).\n## 5. ФОРМАТ ВЫВОДА:\nПредоставь результат СТРОГО в формате JSON со следующими ключами: `style_needed` (true или false), `chosen_style_type` (\"director\", \"artist\" или null), `chosen_style_value` (название стиля или null), `style_keywords` (список строк на английском или null) и `justification` (обоснование).\n(Пример JSON если стиль нужен): `{{{{ \"style_needed\": true, \"chosen_style_type\": \"artist\", \"chosen_style_value\": \"Караваджо (Барокко / Кьяроскуро)\", \"style_keywords\": [\"dramatic chiaroscuro\", \"intense realism\", \"theatrical lighting\"], \"justification\": \"Стиль Караваджо добавит драматизма и интенсивности через свет и тень.\" }}}}`\n(Пример JSON если стиль не нужен): `{{{{ \"style_needed\": false, \"chosen_style_type\": null, \"chosen_style_value\": null, \"style_keywords\": null, \"justification\": null }}}}`\nJSON:\n",
        "step5_script_frame": "# ЗАДАЧА: Генерация Сценария и Описания Первого Кадра\nТы — ИИД-сценарист и визионер. На основе Креативного Брифа создай:\n1.  **Сценарий (Script):** Короткий (до 500 символов) сценарий для 10-секундного видео. Опиши ключевое действие, движение камеры и атмосферу, РЕАЛИЗУЯ выбранные Эмоциональное Ядро, Креативный Драйвер и (если есть) Эстетический Стиль (используя `style_keywords` из брифа для описания атмосферы/визуала, **избегая прямого упоминания имени** режиссера/художника). Фокусируйся на ВИЗУАЛЬНОМ повествовании.\n2.  **Описание Первого Кадра (First Frame Description):** Детальное (до 500 символов) описание САМОГО ПЕРВОГО кадра видео. Опиши композицию, цвета, свет, ракурс камеры. Этот кадр должен быть квинтэссенцией всего ролика, задавать тон и передавать основную идею/настроение, учитывая Эстетический Стиль (через `style_keywords` из брифа, **избегая прямого упоминания имени**).\nИСХОДНЫЕ ДАННЫЕ:\nВходной Текст (для контекста):\n{input_text}\nКреативный Бриф:\n{creative_brief_json}\nТРЕБОВАНИЯ:\n- Сценарий и Описание Кадра должны строго соответствовать Креативному Брифу.\n- Общая длина ответа (сценарий + описание) не должна превышать ~1000 символов.\n- **Текст сценария и описания должен быть на английском языке**, готов к использованию в Runway ML и Midjourney.\nФОРМАТ ОТВЕТА (СТРОГО JSON):\nВерни ТОЛЬКО JSON объект с ДВУМЯ ключами:\n- \"script\": строка, содержащая сгенерированный сценарий (на английском).\n- \"first_frame_description\": строка, содержащая сгенерированное описание первого кадра (на английском).\nПРИМЕР JSON ОТВЕТА:\n{{{{\n\"script\": \"Slow zoom out from a cracked pocket watch lying on dusty cobblestones. Rain begins to fall, reflecting neon signs. The watch hands spin backwards rapidly. Ends on a wide shot of a desolate, futuristic street. Atmosphere has a melancholy mystery, surreal vibe.\",\n\"first_frame_description\": \"Extreme close-up on a cracked pocket watch face. Aged brass casing, intricate details. A single crack runs across the glass. Background is dark, out-of-focus cobblestones. Lighting is dim, focused on the watch, creating a chiaroscuro effect. Colors: Muted brass, dark greys, a hint of reflected blue neon. Visuals feature suspenseful atmosphere and unusual camera angles.\"\n}}}}\nJSON:\n",
        "step6a_mj_adapt": "# ЗАДАЧА: Адаптация Описания Кадра для Промпта Midjourney V7\n\n## 1. ТВОЯ РОЛЬ:\nТы - AI Промпт-Инженер, специализирующийся на Midjourney V7. Твоя задача - преобразовать концептуальное описание первого кадра и креативный бриф в максимально эффективный и детализированный промпт для Midjourney V7, который также будет хорошей основой для последующей анимации в Runway.\n\n## 2. ВХОДНЫЕ ДАННЫЕ:\n\n### 2.1. ОПИСАНИЕ ПЕРВОГО КАДРА (из Шага 5, на английском):\n'''\n{first_frame_description}\n'''\n\n### 2.2. КРЕАТИВНЫЙ БРИФ (Выбранные элементы с Шагов 1-3):\n{creative_brief_json}\n\n### 2.3. СЦЕНАРИЙ ВИДЕО (из Шага 5, для контекста планируемой анимации):\n'''\n{script}\n'''\n\n### 2.4. ИСХОДНЫЙ ТЕКСТ (для дополнительного контекста темы):\n'''\n{input_text}\n'''\n\n### 2.5. ТЕХНИЧЕСКИЕ ПАРАМЕТРЫ MJ (из конфига):\n{mj_parameters_json}\n\n## 3. ИНСТРУКЦИИ ПО ГЕНЕРАЦИИ ПРОМПТА ДЛЯ MIDJOURNEY V7:\n1.  **Основа:** Используй `first_frame_description` как смысловую базу.\n2.  **Детализация и Точность V7:** Добавь конкретные детали, текстуры, элементы окружения. Используй сильные, образные английские слова. Опиши композицию. Учитывай, что V7 лучше понимает промпты и генерирует более качественные текстуры и детали.\n3.  **Эмоция/Дуга:** Убедись, что промпт передает `chosen_emotional_core`.\n4.  **Драйвер:** Отрази `chosen_driver` (перспективу, метафору, подход) в описании.\n5.  **Эстетика:** Если есть `style_keywords`, интегрируй их, **избегая имен**.\n6.  **Тех. Параметры:** Добавь в конец `--ar {aspect_ratio} --v 7{style_parameter_str}`. (Версия изменена на 7!)\n7.  **Запрещенные Слова:** Избегай чувствительных слов (насилие, интимность и т.п.).\n8.  **Структура:** Единая строка на английском.\n9.  **ПОДДЕРЖКА АНИМАЦИИ:** Проанализируй `script`. Если он предполагает появление или значительное изменение объекта (например, \"reveal a city\"), постарайся **очень тонко намекнуть** на его присутствие или начальное состояние в описании первого кадра для MJ (например, \"faint silhouette of a city in the distant haze\", \"object glows faintly from within\"). Это даст Runway визуальную основу. **Намек должен быть едва заметным**.\n\n## 4. ФОРМАТ ВЫВОДА:\nПредоставь результат СТРОГО в формате JSON с одним ключом: \"final_mj_prompt\".\n(Пример: `{{{{ \"final_mj_prompt\": \"Extreme close-up on a cracked pocket watch... distant haze subtly hints at towering structures... --ar 16:9 --v 7\" }}}}`)\nJSON:\n",
        "step6b_runway_adapt": "# ЗАДАЧА: Адаптация Сценария для Промпта Runway (Image-to-Video) - Тонкая Настройка\n\nТы — AI-промпт инженер, эксперт по Runway ML (модель Image-to-Video). Твоя задача — адаптировать Сценарий видео в **максимально выполнимый, конкретный и сфокусированный** текстовый промпт для Runway, который будет использоваться ВМЕСТЕ с изображением первого кадра. Цель - добиться предсказуемого движения камеры.\n\nИСХОДНЫЕ ДАННЫЕ:\n\nСценарий Видео (на английском):\n{script}\n\nКреативный Бриф (для контекста стиля и настроения):\n{creative_brief_json}\n\nВходной Текст (для контекста темы):\n{input_text}\n\nТРЕБОВАНИЯ:\n- Создай текстовый промпт для Runway (на английском языке).\n- Промпт должен описывать ДЕЙСТВИЕ и ДВИЖЕНИЕ КАМЕРЫ, НАЧИНАЯ с первого кадра.\n- **ФОКУС НА ОДНОМ ДВИЖЕНИИ КАМЕРЫ:** Выбери **ОДНО основное, простое движение камеры** (pan left/right, zoom in/out, tilt up/down, dolly forward/backward) из сценария или наиболее подходящее к сцене. Опиши его **четко, с указанием скорости** (slowly, rapidly). Это движение должно быть главным акцентом промпта. **Сделай акцент на движении камеры, повторив команду или усилив ее описание, если необходимо.**\n- **УПРОЩЕНИЕ ДИНАМИКИ СЦЕНЫ:** Если камера активно движется, **минимизируй** описание сложных одновременных действий других объектов. Можно описать статичные элементы или очень простые изменения (например, \"shadows slowly lengthen\", \"light source subtly brightens\").\n- **ДОСТИЖИМЫЕ ДЕЙСТВИЯ:** Описывай действия, которые модель может выполнить. **Избегай инструкций, нарушающих физику**. Вместо этого опиши *визуальный эффект* (например, \"surreal shimmering effect\").\n- **ПОЯВЛЕНИЕ ОБЪЕКТОВ ОГРАНИЧЕНО:** Запрашивай появление/изменение объекта (\"reveal...\") только если можно предположить, что в исходном кадре есть его **визуальный намек**.\n- Учти Эмоциональное Ядро, Драйвер и Эстетический Стиль (через `style_keywords`) для описания атмосферы.\n- **ЗАПРЕТ ИМЕН:** **Категорически запрещено** включать имена собственные.\n- **ЗАПРЕТ ЗВУКА:** **Категорически запрещено** упоминать звуки. **ТОЛЬКО ВИЗУАЛ**.\n- Промпт должен быть единой строкой текста, лаконичным. Длина - до 1000 символов.\n\nФОРМАТ ОТВЕТА (СТРОГО JSON):\nВерни ТОЛЬКО JSON объект с ОДНИМ ключом:\n- \"final_runway_prompt\": строка, содержащая готовый текстовый промпт для Runway (Image-to-Video) на английском языке.\n\nПРИМЕР JSON ОТВЕТА (с фокусом на одном движении):\n{{{{\n\"final_runway_prompt\": \"Slow pan left across the ancient, weathered ruins enveloped in mist, the camera continues panning left steadily. Shadows subtly shift on the stone walls. Maintain a mysterious vibe with unusual camera angles and a suspenseful atmosphere throughout the pan.\"\n}}}}\n\nJSON:\n",
        "step6c_translate": "# ЗАДАЧА: Перевод сгенерированных текстов на русский язык\n## 1. ТВОЯ РОЛЬ:\nТы - AI Переводчик. Твоя задача - точно перевести предоставленные английские тексты на русский язык.\n## 2. ВХОДНЫЕ ДАННЫЕ (АНГЛИЙСКИЙ ЯЗЫК):\n### 2.1. Сценарий Видео (`script`):\n'''\n{script_en}\n'''\n### 2.2. Описание Первого Кадра (`first_frame_description`):\n'''\n{frame_description_en}\n'''\n### 2.3. Финальный Промпт для Midjourney (`final_mj_prompt`):\n'''\n{mj_prompt_en}\n'''\n### 2.4. Финальный Промпт для Runway (`final_runway_prompt`):\n'''\n{runway_prompt_en}\n'''\n## 3. ИНСТРУКЦИИ ПО ПЕРЕВОДУ:\n1.  Переведи каждый из четырех текстов на русский язык, сохраняя смысл и стиль оригинала, насколько это возможно.\n2.  Для промптов MJ и Runway постарайся сохранить структуру и ключевые термины, понятные для анализа человеком, даже если прямой перевод звучит немного технически.\n## 4. ФОРМАТ ВЫВОДА: **КРИТИЧЕСКИ ВАЖНО!**\nТвой ответ ДОЛЖЕН быть **ТОЛЬКО валидным JSON объектом** и ничем иным. Не добавляй никакого текста до или после JSON объекта.\nСтруктура JSON должна быть следующей:\n* `script_ru`: строка, перевод сценария.\n* `first_frame_description_ru`: строка, перевод описания кадра.\n* `final_mj_prompt_ru`: строка, перевод промпта MJ.\n* `final_runway_prompt_ru`: строка, перевод промпта Runway.\nJSON:\n"
    },
    "CONTENT": {
        "topic": {
            "enabled": true,
            "max_length": 200,
            "prompt_template": "Ты профессиональный историк и копирайтер. Твоя задача — создать уникальную, эмоционально цепляющую и интригующую тему для исторического Telegram-канала, используя фокус: {focus_areas}. Тема должна состоять не более чем из 12 слов. Эмоциональный акцент: захвати внимание читателя с первых слов. Уникальность: избегай общих фраз и шаблонов. Пример идеальной темы: 'Как Екатерина II случайно изобрела русскую бюрократию'. После этого придумай краткий ярлык (не более чем из 2 слов), который суммирует суть темы. Если указаны исключения, исключи темы с ярлыками: {exclusions}. Обязательно выведи результат строго в формате JSON с ключами \"full_topic\" и \"short_topic\"."
        },
        "text": {
            "enabled": true,
            "max_length": 800,
            "prompt_template": "Ты гениальный историк и мастер сторителлинга, создающий вирусные посты для российского исторического Telegram-канала. Напиши текст на тему: '{topic}'. Длина: 80-100 слов, 2-3 абзаца. Следуй структуре:\n\n1. **Взрывной старт (строго 1 предложение)**: Задай дерзкий вопрос (например, 'Рискнули бы вы вырвать сердце ради солнца?') или брось шокирующий факт (например, 'В 1812 году Наполеон потерял 30 тысяч за день').\n2. **Живой факт (1-2 предложения)**: Расскажи проверенное историческое событие с датой, местом или именем и яркой деталью (например, 'В 1519 году жрецы вырывали сердце обсидиановым ножом'), без вымысла, оживи образами.\n3. **Гениальный твист (1-2 предложения)**: Удиви реальным фактом, шокирующим или необычным, с неожиданной цифрой, именем или деталью (например, 'Ацтеки вырезали 20 тысяч сердец, включая детей!'), добавь лёгкую улыбку (например, 'и это ради солнца!'), только проверенные данные.\n4. **Личный крючок (строго 1 предложение)**: Дай интригу о следующем посте без вопросов (например, 'Завтра — про тайны Чингисхана').\n\n**Стиль и тон**:\n- Дерзкий, живой, разговорный, с лёгким улыбчивым настроением.\n- Пиши как друг, без заумностей.\n- Эмодзи: строго 3 (одно в старте, одно в факте, одно в твисте), крючок без эмодзи.\n\n**Цель**: Заставить читателя удивиться, слегка улыбнуться и переслать пост, вернувшись за добавкой, сохраняя доверие к исторической правде.",
            "temperature": 0.7
        },
        "tragic_text": {
            "enabled": true,
            "max_length": 800,
            "prompt_template": "Ты гениальный историк и мастер сторителлинга, создающий посты для исторического Telegram-канала. Напиши текст на тему: '{topic}'. Длина: 80-100 слов, 2-3 абзаца. Следуй структуре:\n\n1. **Взрывной старт (1 предложение)**: Задай дерзкий вопрос (например, 'Выстояли бы вы под Брестом?') или брось шокирующий факт (например, 'В 1941 году Зоя погибла за правду').\n2. **Живой факт (1-2 предложения)**: Расскажи реальное событие Второй мировой войны с датой, местом или именем и яркой деталью (например, 'В 1941 году в Петрищево Зоя подожгла дома'), используй ТОЛЬКО проверенные факты, без вымысла.\n3. **Гениальный твист (1-2 предложения)**: Удиви реальным фактом с цифрой, именем или деталью (например, 'Её тело висело месяц перед врагом'), добавь лёгкую улыбку (например, 'а дух остался непобеждённым!'), только правда.\n4. **Крючок (1 предложение)**: Дай интригу о следующем посте без вопросов (например, 'Завтра — про подвиг в Бресте').\n\n**Стиль и тон**:\n- Дерзкий, живой, разговорный, с лёгким улыбчивым настроением.\n- Пиши как друг, без заумностей.\n- Эмодзи: ровно 3 (в старте, факте, твисте), крючок без эмодзи.\n\n**Цель**: Удивить, вызвать улыбку и желание переслать пост, сохраняя доверие к исторической правде. Используй ТОЛЬКО реальные факты Второй мировой войны, без выдуманных событий или деталей.",
            "temperature": 0.5
        },
        "critique": {
            "enabled": false,
            "prompt_template": "...",
            "max_tokens": 300,
            "temperature": 0.3
        },
        "improve": {
            "enabled": false,
            "prompt_template": "...",
            "max_tokens": 400,
            "temperature": 0.7
        }
    },
    "SARCASM": {
        "enabled": true,
        "max_tokens_comment": 150,
        "max_tokens_poll": 250,
        "character_name": "Барон Сарказм",
        "comment_prompt": "Ты — Барон Сарказм, остроумный и ироничный персонаж с тонким чувством юмора. Придумайте саркастический комментарий к следующему тексту: '{text}'. Комментарий должен быть кратким в пределах 20 слов , язвительным и в духе интеллигентного джентльмена. Начните со слов: 'Мой юный друг...'.",
        "comment_temperature": 0.8,
        "tragic_comment_prompt": "Ты — Барон Сарказм, мудрый и сдержанный персонаж, комментирующий посты в Telegram-канале. Напиши комментарий к тексту: '{text}'. До 15 слов, с лёгкой торжественной иронией, без шуток, сарказма или цинизма, подчёркивая величие подвига, а не жертвы, в духе джентльмена, гордящегося историей. Обязательно укажи конкретный факт из текста. Начни с 'Мой юный друг...'. Пример: 'Мой юный друг, Матросов показал, что герои сильнее стали.'",
        "tragic_comment_temperature": 0.6,
        "question_prompt": "Ты — Барон Сарказм, остроумный и ироничный персонаж с тонким чувством юмора. Придумай интерактивный вопрос на основе следующего текста: '{text}'. Вопрос должен быть кратким (до 30 слов), язвительным и в духе интеллигентного историка. Ответы должны быть короткими (3-5 слов), саркастическими, вызывающими улыбку. Верни результат СТРОГО как единый JSON объект с двумя ключами: 'question' (строка с вопросом) и 'options' (массив из ТРЕХ строк с вариантами ответов). Никакого текста до или после JSON объекта!",
        "poll_temperature": 0.9,
        "tragic_question_prompt": "Ты — Барон Сарказм, мудрый и сдержанный персонаж, создающий опросы для Telegram-канала. Придумай опрос по тексту: '{text}'. Вопрос до 10 слов, 3 варианта строго по 3-5 слов, с лёгкой торжественной иронией, без шуток, сарказма, легкомыслия или негативных эмоций (например, 'ужас', 'страх'), подчёркивая величие подвигов, а не жертвы, вовлекая читателя в размышление. Обязательно используй конкретные факты из текста. Верни результат СТРОГО как единый JSON объект с двумя ключами: 'question' (строка с вопросом) и 'options' (массив из ТРЕХ строк с вариантами ответов). Никакого текста до или после JSON объекта.",
        "tragic_poll_temperature": 0.6
    },
    "GENERATE": {
        "topic_threshold": 7,
        "text_threshold": 8,
        "max_attempts": 1,
        "adaptation_enabled": true,
        "adaptation_parameters": {
            "emotional_focus": 0.7,
            "historical_detail": 0.8,
            "humor_ratio": 0.5
        }
    },
    "IMAGE_GENERATION": {
        "output_size": "1280×720",
        "midjourney_version": "7.0",
        "midjourney_style": null
    },
    "VISUAL_ANALYSIS": {
        "min_script_length": 200,
        "image_selection_criteria": [
            {"name": "Dramatism", "weight": 1.2},
            {"name": "Epicness", "weight": 1.5},
            {"name": "Historical context", "weight": 1.0},
            {"name": "Depth of scene", "weight": 1.0},
            {"name": "Balance of elements", "weight": 1.0},
            {"name": "Focus", "weight": 1.2},
            {"name": "Contrast", "weight": 1.0},
            {"name": "Atmospheric lighting", "weight": 1.3},
            {"name": "Color palette", "weight": 1.0},
            {"name": "Clarity of key elements", "weight": 1.0},
            {"name": "No artifacts", "weight": 1.0},
            {"name": "Plausibility", "weight": 1.0},
            {"name": "Historical attributes", "weight": 1.0},
            {"name": "Iconography", "weight": 1.0},
            {"name": "Dynamic tension", "weight": 1.2},
            {"name": "Uniqueness", "weight": 1.3},
            {"name": "Cinematic quality", "weight": 1.5},
            {"name": "Prompt match", "weight": 1.2}
        ],
        "image_selection_prompt": "Evaluate these 4 images for the prompt '{prompt}'. Score each from 0-10 on these criteria: {criteria}. Calculate the weighted total score for each image (score * weight). Return the image number (1-4) with the highest total score and a brief explanation.",
        "image_selection_max_tokens": 500
    },
    "WORKFLOW": {
        "max_tasks_per_run": 1,
        "mj_timeout_seconds": 18000,
        "runway_polling_timeout": 300,
        "runway_polling_interval": 15,
        "enable_russian_translation": true
    },
    "VIDEO": {
        "placeholder_bg_color": "cccccc",
        "placeholder_text_color": "333333",
        "mock_duration": 10,
        "mock_fps": 24,
        "mock_codec": "libx264",
        "runway_duration": 10,
        "runway_ratio": "1280:768"
    }
}
